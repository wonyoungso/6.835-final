{"version":3,"sources":["actions/index.js","constants/defaults.js","utils/index.js","components/MapContainer.js","stylesheets/mixins.js","components/GraphContainer.js","components/GraphToolTip.js","components/Header.js","components/DivisionText.js","components/SliderContainer.js","components/Legend.js","pages/Home.js","App.js","reducers/index.js","reducers/main.js","index.js"],"names":["updateCurrentFocusMap","currentFocusMap","type","payload","DEFAULT_STATE","windowWidth","windowHeight","dataLoaded","rentData","buyData","zoom","center","currentTime","currentMode","graphSelected","MODES","0","label","mode","id","1","2","3","4","CURRENT_TIMES","numberWithDelimiter","number","delimiter","separator","parts","toString","split","replace","join","e","currentTimeToYearMonthTime","moment","format","convDatesToList","data","houseValues","_","each","v","k","isNaN","length","date","push","toDate","MapDiv","styled","div","_templateObject","MapContainerDiv","_templateObject2","MAPBOX_TOKEN","React","Fragment","MapContainer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","mapboxgl","accessToken","colorScale","d3","domain","clamp","range","zoomScale","graphColorScale","handleMouseMove","bind","assertThisInitialized","hoverPopup","Popup","closeButton","closeOnClick","map","Map","container","refsMapContainer","style","minZoom","maxZoom","doubleClickZoom","window","on","handleStyleLoad","_this2","features","queryRenderedFeatures","point","layers","realFeature","filter","f","sourceLayer","properties","NAME","setFilter","GEOID","concat","RegionID","name","state","setLngLat","lngLat","setHTML","addTo","remove","getCanvas","cursor","_this3","graphInfo","lastIdx","values","graphData","getData","isUndefined","turf","geometry","color","graph","console","log","dispatch","addGraphSelected","getZoom","getCenter","setPaintProperty","changeMapSetting","setLayerZoomRange","addLayer","maxzoom","minzoom","source","source-layer","paint","line-color","line-opacity","line-width","circle-color","circle-radius","setLayoutProperty","usMapSetting","divisionMapSetting","stateMapSetting","countyMapSetting","cityMapSetting","handleZoom","handleViewClick","handleMoveEnd","command","popupName","gInfo","info","rentUS","find","rentDivisions","r","DivisionName","rentStates","StateName","rentCounties","_this4","expression","division","_this5","_this6","i","_this7","county","String","prevProps","_this8","resize","_this$props","expressions","g","nameValue","matchValue","indexOf","isNull","coordinates","RegionName","fullName","easeTo","m","_this9","_this$props2","react_default","a","createElement","ref","c","className","width","height","components_Legend","Component","connect","mixins","GraphBox","GraphContainer_templateObject","CenterAddText","GraphContainer_templateObject2","GraphContainer","svgRef","createRef","xScale","yScale","margin","top","right","bottom","left","zoomed","zoomTransform","containerWidth","containerHeight","svg","current","Date","append","attr","scaleExtent","tickSize","tickFormat","transition","transform","newX","rescaleX","newY","rescaleY","select","selectAll","d","last","p_houseValues","x","y","d3Render","yDomainMax","houseValue","_this$props3","line","enter","graphSelectedValues","domains","getDomains","slice","text","getLabel","_this$props4","Box","GraphToolTip_templateObject","HeaderContainer","header","Header_templateObject","DivisionArea","Header_templateObject2","Mover","_templateObject3","Line","hr","_templateObject4","CreditArea","_templateObject5","TitleArea","_templateObject6","Header","currentIdx","findIndex","components_DivisionText","assign","key","TextArea","DivisionText_templateObject","DivisionText","selected","children","Container","SliderContainer_templateObject","SLIDER_HEIGHT","SliderContainer","rc_slider_es","min","defaultValue","max","onChange","handleChange","LegendContainer","Legend_templateObject","LegendArea","Legend_templateObject2","Legend","backgroundColor","Divider","Home_templateObject","DataArea","Home_templateObject2","Home","addEventListener","resizeHandler","dimension","innerWidth","innerHeight","Home_Fragment","components_Header","components_MapContainer","components_SliderContainer","components_GraphContainer","App","HashRouter","App_Fragment","Route","exact","path","component","createStore","arguments","undefined","action","objectSpread","mapLoaded","defineProperty","removeGraphSelected","render","es","store","AppState","src_App","document","getElementById"],"mappings":"kTA4DaA,EAAwB,SAACC,GACpC,MAAO,CACLC,KAAM,2BACNC,QAAS,CACPF,gBAAiBA,sDChEVG,EAAgB,CAC3BC,YAAa,KACbC,aAAc,IACdC,YAAY,EACZC,SAAU,GACVC,QAAS,GACTC,KAAM,IACNC,OAAQ,EAAE,iBAAkB,mBAC5BC,YAAa,EACbC,YAAa,oBACbZ,gBAAiB,KACjBa,cAAe,IAQJC,EAAQ,CACnBC,EAAG,CAAEC,MAAO,UAAWC,KAAM,oBAAqBC,GAAI,EAAGT,KAAM,MAC/DU,EAAG,CAAEH,MAAO,qBAAsBC,KAAM,sBAAuBC,GAAI,EAAGT,KAAM,MAC5EW,EAAG,CAAEJ,MAAO,SAAUC,KAAM,mBAAoBC,GAAI,EAAGT,KAAM,KAC7DY,EAAG,CAAEL,MAAO,WAAYC,KAAM,oBAAqBC,GAAI,EAAGT,KAAM,KAChEa,EAAG,CAAEN,MAAO,SAAUC,KAAM,0BAA2BC,GAAI,EAAGT,KAAM,IAGzDc,EAAe,CAC1B,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,mCCzHWC,EAAsB,SAACC,EAAQC,EAAWC,GACrD,IACED,EAAYA,GAAa,IACzBC,EAAYA,G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","file":"static/js/main.1f5dab56.chunk.js","sourcesContent":["export const windowResize = (dimension) => {\n  return {\n    type: 'WINDOW_RESIZE',\n    payload: {\n      windowWidth: dimension.width,\n      windowHeight: dimension.height\n    }\n  }\n}\n\nexport const updateData = (rentData, buyData) => {\n  return {\n    type: 'UPDATE_DATA',\n    payload: {\n      rentData: rentData,\n      buyData: buyData,\n      dataLoaded: true\n    }\n  }\n}\n\nexport const changeMapSetting = (zoom, center, currentMode) => {\n  return {\n    type: 'CHANGE_MAP_SETTING',\n    payload: {\n      zoom: zoom,\n      center: center,\n      currentMode: currentMode\n    }\n  }\n}\n\nexport const changeCurrentTime = (currentTime) => {\n  return {\n    type: 'CHANGE_CURRENT_TIME',\n    payload: {\n      currentTime: currentTime\n    }\n  }\n}\n\nexport const addGraphSelected = (id, graphInfo) => {\n  return {\n    type: 'ADD_GRAPH',\n    payload: {\n      id: id,\n      graphInfo: graphInfo\n    }\n  }\n}\n\nexport const removeGraphSelected = (id) => {\n  return {\n    type: 'REMOVE_GRAPH',\n    payload: {\n      id: id\n    }\n  }\n}\n\nexport const updateCurrentFocusMap = (currentFocusMap) => {\n  return {\n    type: 'UPDATE_CURRENT_FOCUS_MAP',\n    payload: {\n      currentFocusMap: currentFocusMap\n    }\n  };\n}","export const DEFAULT_STATE = {\n  windowWidth: 1024,\n  windowHeight: 768,\n  dataLoaded: false,\n  rentData: [],\n  buyData: [],\n  zoom: 2.8,\n  center: [-95.3091743624725, 40.89824648650918],\n  currentTime: 5,\n  currentMode: \"nation_geo-9an1r8\",\n  currentFocusMap: null,\n  graphSelected: {\n    \n  }\n};\n\nexport const HEADER_HEIGHT = 165;\nexport const GRAPH_HEIGHT = 350;\nexport const SLIDER_HEIGHT = 50;\nexport const MODES = {\n  0: { label: \"country\", mode: \"nation_geo-9an1r8\", id: 0, zoom: 2.8 + (3.5 - 2.8) * 0.5 },\n  1: { label: \"division of states\", mode: \"division_geo-a4uhem\", id: 1, zoom: 3.5 + (4.2 - 3.5) * 0.5 },\n  2: { label: \"states\", mode: \"state_geo-c0eo4i\", id: 2, zoom: 4.2 + (4.8 - 4.2) * 0.5 },\n  3: { label: \"counties\", mode: \"county_geo-cn1mtx\", id: 3, zoom: 4.8 + (6.2 - 4.8) * 0.5 },\n  4: { label: \"cities\", mode: \"cities_geo_final-3o28cl\", id: 4, zoom: 8 }\n}\n\nexport const CURRENT_TIMES= [\n  \"2010-11-01T04:00:00.000Z\",\n  \"2010-12-01T05:00:00.000Z\", \n  \"2011-01-01T05:00:00.000Z\",\n  \"2011-02-01T05:00:00.000Z\",\n  \"2011-03-01T05:00:00.000Z\", \n  \"2011-04-01T04:00:00.000Z\",\n  \"2011-05-01T04:00:00.000Z\",\n  \"2011-06-01T04:00:00.000Z\", \n  \"2011-07-01T04:00:00.000Z\",\n  \"2011-08-01T04:00:00.000Z\",\n  \"2011-09-01T04:00:00.000Z\", \n  \"2011-10-01T04:00:00.000Z\",\n  \"2011-11-01T04:00:00.000Z\",\n  \"2011-12-01T05:00:00.000Z\", \n  \"2012-01-01T05:00:00.000Z\",\n  \"2012-02-01T05:00:00.000Z\",\n  \"2012-03-01T05:00:00.000Z\", \n  \"2012-04-01T04:00:00.000Z\",\n  \"2012-05-01T04:00:00.000Z\",\n  \"2012-06-01T04:00:00.000Z\", \n  \"2012-07-01T04:00:00.000Z\",\n  \"2012-08-01T04:00:00.000Z\",\n  \"2012-09-01T04:00:00.000Z\", \n  \"2012-10-01T04:00:00.000Z\",\n  \"2012-11-01T04:00:00.000Z\",\n  \"2012-12-01T05:00:00.000Z\", \n  \"2013-01-01T05:00:00.000Z\",\n  \"2013-02-01T05:00:00.000Z\",\n  \"2013-03-01T05:00:00.000Z\", \n  \"2013-04-01T04:00:00.000Z\",\n  \"2013-05-01T04:00:00.000Z\",\n  \"2013-06-01T04:00:00.000Z\", \n  \"2013-07-01T04:00:00.000Z\",\n  \"2013-08-01T04:00:00.000Z\",\n  \"2013-09-01T04:00:00.000Z\", \n  \"2013-10-01T04:00:00.000Z\",\n  \"2013-11-01T04:00:00.000Z\",\n  \"2013-12-01T05:00:00.000Z\", \n  \"2014-01-01T05:00:00.000Z\",\n  \"2014-02-01T05:00:00.000Z\",\n  \"2014-03-01T05:00:00.000Z\", \n  \"2014-04-01T04:00:00.000Z\",\n  \"2014-05-01T04:00:00.000Z\",\n  \"2014-06-01T04:00:00.000Z\", \n  \"2014-07-01T04:00:00.000Z\",\n  \"2014-08-01T04:00:00.000Z\",\n  \"2014-09-01T04:00:00.000Z\", \n  \"2014-10-01T04:00:00.000Z\",\n  \"2014-11-01T04:00:00.000Z\",\n  \"2014-12-01T05:00:00.000Z\", \n  \"2015-01-01T05:00:00.000Z\",\n  \"2015-02-01T05:00:00.000Z\",\n  \"2015-03-01T05:00:00.000Z\", \n  \"2015-04-01T04:00:00.000Z\",\n  \"2015-05-01T04:00:00.000Z\",\n  \"2015-06-01T04:00:00.000Z\", \n  \"2015-07-01T04:00:00.000Z\",\n  \"2015-08-01T04:00:00.000Z\",\n  \"2015-09-01T04:00:00.000Z\", \n  \"2015-10-01T04:00:00.000Z\",\n  \"2015-11-01T04:00:00.000Z\",\n  \"2015-12-01T05:00:00.000Z\", \n  \"2016-01-01T05:00:00.000Z\",\n  \"2016-02-01T05:00:00.000Z\",\n  \"2016-03-01T05:00:00.000Z\", \n  \"2016-04-01T04:00:00.000Z\",\n  \"2016-05-01T04:00:00.000Z\",\n  \"2016-06-01T04:00:00.000Z\", \n  \"2016-07-01T04:00:00.000Z\",\n  \"2016-08-01T04:00:00.000Z\",\n  \"2016-09-01T04:00:00.000Z\", \n  \"2016-10-01T04:00:00.000Z\",\n  \"2016-11-01T04:00:00.000Z\",\n  \"2016-12-01T05:00:00.000Z\", \n  \"2017-01-01T05:00:00.000Z\",\n  \"2017-02-01T05:00:00.000Z\",\n  \"2017-03-01T05:00:00.000Z\", \n  \"2017-04-01T04:00:00.000Z\",\n  \"2017-05-01T04:00:00.000Z\",\n  \"2017-06-01T04:00:00.000Z\", \n  \"2017-07-01T04:00:00.000Z\",\n  \"2017-08-01T04:00:00.000Z\",\n  \"2017-09-01T04:00:00.000Z\", \n  \"2017-10-01T04:00:00.000Z\",\n  \"2017-11-01T04:00:00.000Z\",\n  \"2017-12-01T05:00:00.000Z\", \n  \"2018-01-01T05:00:00.000Z\",\n  \"2018-02-01T05:00:00.000Z\",\n  \"2018-03-01T05:00:00.000Z\", \n  \"2018-04-01T04:00:00.000Z\",\n  \"2018-05-01T04:00:00.000Z\",\n  \"2018-06-01T04:00:00.000Z\", \n  \"2018-07-01T04:00:00.000Z\",\n  \"2018-08-01T04:00:00.000Z\",\n  \"2018-09-01T04:00:00.000Z\", \n  \"2018-10-01T04:00:00.000Z\",\n  \"2018-11-01T04:00:00.000Z\",\n  \"2018-12-01T05:00:00.000Z\", \n  \"2019-01-01T05:00:00.000Z\"\n];\n\n","import _ from 'lodash';\nimport moment from 'moment';\nimport { MODES, CURRENT_TIMES } from '../constants/defaults';\nimport * as d3 from 'd3';\n\nexport const numberWithDelimiter = (number, delimiter, separator) => {\n  try {\n    delimiter = delimiter || \",\";\n    separator = separator || \".\";\n\n    var parts = number.toString().split('.');\n    parts[0] = parts[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1\" + delimiter);\n    return parts.join(separator);\n  } catch (e) {\n    return number\n  }\n};\n\nexport const currentTimeToYearMonthTime = (currentTime) => {\n  let yearMonthTime = moment(CURRENT_TIMES[currentTime]).format(\"YYYY-MM\");\n  return yearMonthTime;\n\n}\n\nexport const convDatesToList = function(data) {\n  data.houseValues = [];\n  _.each(data, (v, k) => {\n    if (!_.isNaN(+v) && k !== \"GEOID\") {\n      data[k] = +v;\n\n      if (k.split(\"-\").length === 2) {\n        let date = moment(k, \"YYYY-MM\");\n        data.houseValues.push([date.toDate(), +v]);\n      }\n\n    }\n  });\n  return data;\n}\n\nexport const wrap = (text, width) => {\n  debugger;\n  text.each(function() {\n    var text = d3.select(this),\n        words = text.text().split(/\\s+/).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.1, // ems\n        y = text.attr(\"y\"),\n        dy = parseFloat(text.attr(\"dy\")),\n        tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\" \"));\n      if (tspan.node().getComputedTextLength() > width) {\n        line.pop();\n        tspan.text(line.join(\" \"));\n        line = [word];\n        tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n      }\n    }\n  });\n}\n\nexport const convRentData = function (data) {\n  _.each(data, (d, i)  => {\n    data[i] = convDatesToList(data[i]);\n  });\n\n  return data;\n}\n\nexport const getLabel = (d) => {\n\n  switch(d.type) {\n    case MODES[0].mode:\n      return \"United States\";\n    case MODES[1].mode:\n      return d.id;// + \" Division\";\n    case MODES[2].mode:\n      return d.id;// + \" State\";\n    case MODES[3].mode:\n      return d.graph.RegionName + \" County\";\n    case MODES[4].mode:\n      return d.graph.fullName;\n    default:\n      return;\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport _ from 'lodash';\nimport mapboxgl from 'mapbox-gl';\nimport { changeMapSetting, addGraphSelected, removeGraphSelected, updateCurrentFocusMap } from '../actions';\nimport rentUS from '../constants/rent_us.json';\nimport rentDivisions from '../constants/rent_division.json';\nimport rentStates from '../constants/rent_states.json';\nimport rentCounties from '../constants/rent_counties.json';\nimport moment from 'moment';\nimport { convDatesToList, convRentData, currentTimeToYearMonthTime } from '../utils';\nimport * as d3 from 'd3';\nimport { HEADER_HEIGHT, GRAPH_HEIGHT, SLIDER_HEIGHT, MODES } from '../constants/defaults';\nimport { Legend } from './';\nimport * as turf from '@turf/turf';\n\nconst MapDiv = styled.div`\n`;\n\nconst MapContainerDiv = styled.div`\n  padding: 0 20px;\n  position: relative;\n`;\n\nconst Fragment = React.Fragment;\n\nconst MAPBOX_TOKEN = 'pk.eyJ1Ijoic2Vuc2VhYmxlIiwiYSI6ImxSNC1wc28ifQ.hst-boAjFCngpjzrbXrShw';\n\nclass MapContainer extends Component {\n\n  constructor(props){\n    super(props);\n    mapboxgl.accessToken = MAPBOX_TOKEN;\n    \n    this.colorScale = d3.scaleLinear().domain([800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600]).clamp(true).range([\n      '#F2F12D',\n      '#EED322',\n      '#E6B71E',\n      '#DA9C20',\n      '#CA8323',\n      '#B86B25',\n      '#A25626',\n      '#8B4225',\n      '#723122'])\n\n    this.zoomScale = d3.scaleLinear().domain([6.25, 18]).clamp(true).range([2.5, 30])\n\n    this.graphColorScale = d3.scaleOrdinal().domain([0, 20]).range(d3.schemeSet2);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    // this.hoverId = \n    this.hoverPopup = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false\n    });\n\n  }\n\n  componentDidMount() {\n\n    this.map = new mapboxgl.Map({\n      container: this.refsMapContainer,\n      style: 'mapbox://styles/senseable/cjt5bagot01301fmw5qqcvhrf',\n      zoom: 2.8,\n      minZoom: 2.8,\n      maxZoom: 15.5,\n      doubleClickZoom: false,\n      center: [-95.3091743624725, 40.89824648650918]\n      // interactive: false\n    });\n    window.map = this.map;\n\n    this.map.on('style.load', this.handleStyleLoad.bind(this));\n  }\n  handleMouseMove(e){\n    var features = this.map.queryRenderedFeatures(e.point, { layers: [this.props.currentMode.replace(/_/g, \"-\")] });\n\n    if (features.length) {\n\n      let realFeature = _.filter(features, f => { return f.sourceLayer === this.props.currentMode });\n\n\n      if (realFeature.length > 0) {\n        realFeature = realFeature[0];\n        let label;\n        if (this.props.currentMode === MODES[0].mode) {\n\n          let id = realFeature.properties.NAME;\n          label = id;\n          this.map.setFilter(\"nation-geo-9an1r8__hover\", [\"==\", \"NAME\", id]);\n\n        } else if (this.props.currentMode === MODES[1].mode){\n          \n          let id = realFeature.properties.NAME;\n          label = id;\n          this.map.setFilter(\"division-geo-a4uhem__hover\", [\"==\", \"NAME\", id]);\n          \n        } else if (this.props.currentMode === MODES[2].mode) {\n          \n          let id = realFeature.properties.NAME;\n          label = id;\n          this.map.setFilter(\"state-geo-c0eo4i__hover\", [\"==\", \"NAME\", id]);\n          \n        } else if (this.props.currentMode === MODES[3].mode) {\n          \n          let id = realFeature.properties.GEOID;\n          label = `${realFeature.properties.NAME} County`;\n          this.map.setFilter(\"county-geo-cn1mtx__hover\", [\"==\", \"GEOID\", id]);   \n          \n        } else if (this.props.currentMode === \"cities_geo_final-3o28cl\") {\n          \n          let id = realFeature.properties.RegionID;\n          label = `${realFeature.properties.name}, ${realFeature.properties.state}`;\n          this.map.setFilter(\"cities-geo-final-3o28cl__hover\", [\"==\", \"RegionID\", id]);   \n        }\n        this.hoverPopup.setLngLat(e.lngLat)\n          .setHTML(label)\n          .addTo(this.map);\n      }\n    } else {\n      \n      this.map.setFilter(\"nation-geo-9an1r8__hover\", [\"==\", \"NAME\", \"\"]);\n      this.map.setFilter(\"division-geo-a4uhem__hover\", [\"==\", \"NAME\", \"\"]);\n      this.map.setFilter(\"state-geo-c0eo4i__hover\", [\"==\", \"NAME\", \"\"]);\n      this.map.setFilter(\"county-geo-cn1mtx__hover\", [\"==\", \"GEOID\", \"\"]);\n      this.map.setFilter(\"cities-geo-final-3o28cl__hover\", [\"==\", \"RegionID\", \"\"]);\n      this.hoverPopup.remove();\n\n    }\n\n    this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n  }\n\n\n  handleViewClick(e) {\n    var features = this.map.queryRenderedFeatures(e.point, { layers: [\"nation-geo-9an1r8\", \"division-geo-a4uhem\", \"state-geo-c0eo4i\", \"county-geo-cn1mtx\", \"cities-geo-final-3o28cl\"] });\n\n    if (features.length) {\n\n      let realFeature = _.filter(features, f => { return f.sourceLayer === this.props.currentMode });\n\n      if (realFeature.length > 0) {\n        realFeature = realFeature[0];\n        let { graphSelected } = this.props;\n        let lastIdx = _.values(graphSelected).length;\n        let id;\n        let graphInfo;\n        if (this.props.currentMode === \"county_geo-cn1mtx\") {\n          try {\n           \n            let graphData = this.getData({\n              id: realFeature.properties.GEOID, \n              type: this.props.currentMode\n            });\n            if (!_.isUndefined(graphData)) {\n              // debugger;\n              id = realFeature.properties.GEOID;\n              graphInfo = { id: realFeature.properties.GEOID, center: turf.center(realFeature.geometry), color: this.graphColorScale(lastIdx), graph: graphData,\n              type: this.props.currentMode};\n            }\n          } catch(e){\n            console.log(e);\n          }\n          \n\n\n        } else if (this.props.currentMode === \"cities_geo_final-3o28cl\") {\n          id = realFeature.properties.RegionID;\n          \n          graphInfo = {\n            id: realFeature.properties.RegionID, center: turf.center(realFeature.geometry), color: this.graphColorScale(lastIdx), graph: convDatesToList(realFeature.properties),\n          type: this.props.currentMode};\n          \n\n          \n        } else {\n          try {\n            id = realFeature.properties.NAME;\n            graphInfo = {\n              id: realFeature.properties.NAME, center: turf.center(realFeature.geometry), color: this.graphColorScale(lastIdx), graph: this.getData({\n              id: realFeature.properties.NAME, \n              type: this.props.currentMode\n              }),\n            type: this.props.currentMode };\n\n          } catch (e) {\n            console.log(e);\n\n          }\n\n        }\n\n        if (!_.isUndefined(graphInfo)) {\n          this.props.dispatch(addGraphSelected(id, graphInfo));\n        }\n        \n      }\n      \n    }\n\n    this.map.getCanvas().style.cursor = features.length ? 'pointer' : '';\n\n  }\n\n  handleZoom(e){\n\n    let zoom = this.map.getZoom();\n    let center = this.map.getCenter();\n    let currentMode;\n    this.hoverPopup.remove();\n    if (zoom < 3.5) {\n      currentMode = \"nation_geo-9an1r8\";\n    } else if (zoom >= 3.5 && zoom < 4.2) {\n      currentMode = \"division_geo-a4uhem\";\n    } else if (zoom >= 4.2 && zoom < 4.8) {\n      currentMode = \"state_geo-c0eo4i\";\n    } else if (zoom >= 4.8 && zoom < 6.2) {\n      currentMode = \"county_geo-cn1mtx\";\n    } else {\n      currentMode = \"cities_geo_final-3o28cl\";\n    }\n    \n    this.map.setPaintProperty(\"cities-geo-final-3o28cl\", 'circle-radius', this.zoomScale(zoom));\n    this.map.setPaintProperty(\"cities-geo-final-3o28cl__clicked\", 'circle-radius', this.zoomScale(zoom) + 3);\n\n    this.props.dispatch(changeMapSetting(zoom, center, currentMode));\n  }\n\n  handleStyleLoad(e) {\n    \n    this.map.setLayerZoomRange(\"nation-geo-9an1r8\", 2.8, 3.5);\n    this.map.setLayerZoomRange(\"division-geo-a4uhem\", 3.5, 4.2);\n    this.map.setLayerZoomRange(\"state-geo-c0eo4i\", 4.2, 4.8);\n    this.map.setLayerZoomRange(\"county-geo-cn1mtx\", 4.8, 6.2);\n    this.map.setLayerZoomRange(\"cities-geo-final-3o28cl\", 6.2, 15.5);\n\n    this.map.addLayer({\n      id: \"nation-geo-9an1r8__hover\",\n      maxzoom: 3.5,\n      minzoom: 2.8,\n      source: \"composite\",\n      \"source-layer\": \"nation_geo-9an1r8\",\n      type: \"line\",\n      \"filter\": [\"==\", \"NAME\", \"\"],\n      \"paint\": {\n        'line-color': \"#FFFFFF\",\n        'line-opacity': 0.8,\n        'line-width': 1\n      }\n    });\n\n    this.map.addLayer({\n      id: \"nation-geo-9an1r8__clicked\",\n      maxzoom: 3.5,\n      minzoom: 2.8,\n      source: \"composite\",\n      \"source-layer\": \"nation_geo-9an1r8\",\n      type: \"line\",\n      \"paint\": {\n        'line-opacity': 1,\n        'line-width': 2,\n        'line-color': \"rgba(0, 0, 0, 0)\"\n      }\n    });\n\n\n\n\n    this.map.addLayer({\n      id: \"division-geo-a4uhem__hover\",\n      maxzoom: 4.2,\n      minzoom: 3.5,\n      source: \"composite\",\n      \"source-layer\": \"division_geo-a4uhem\",\n      type: \"line\",\n      \"filter\": [\"==\", \"NAME\", \"\"],\n      \"paint\": {\n        'line-color': \"#FFFFFF\",\n        'line-opacity': 0.8,\n        'line-width': 1\n      }\n    })\n\n\n    this.map.addLayer({\n      id: \"division-geo-a4uhem__clicked\",\n      maxzoom: 4.2,\n      minzoom: 3.5,\n      source: \"composite\",\n      \"source-layer\": \"division_geo-a4uhem\",\n      type: \"line\",\n      \"paint\": {\n        'line-opacity': 0,\n        'line-width': 2,\n        'line-color': \"rgba(0, 0, 0, 0)\"\n      }\n    },)\n\n    this.map.addLayer({\n      id: \"state-geo-c0eo4i__hover\",\n      maxzoom: 4.8,\n      minzoom: 4.2,\n      source: \"composite\",\n      \"source-layer\": \"state_geo-c0eo4i\",\n      type: \"line\",\n      \"filter\": [\"==\", \"NAME\", \"\"],\n      \"paint\": {\n        'line-color': \"#FFFFFF\",\n        'line-opacity': 1,\n        'line-width': 1\n      }\n    })\n\n\n    this.map.addLayer({\n      id: \"state-geo-c0eo4i__clicked\",\n      maxzoom: 4.8,\n      minzoom: 4.2,\n      source: \"composite\",\n      \"source-layer\": \"state_geo-c0eo4i\",\n      type: \"line\",\n      \"paint\": {\n        'line-opacity': 1,\n        'line-width': 2,\n        'line-color': \"rgba(0, 0, 0, 0)\"\n      }\n    })\n\n    this.map.addLayer({\n      \"filter\": [\"==\", \"GEOID\", \"\"],\n      id: \"county-geo-cn1mtx__hover\",\n      maxzoom: 6.2,\n      minzoom: 4.8,\n      source: \"composite\",\n      \"source-layer\": \"county_geo-cn1mtx\",\n      type: \"line\",\n      \"paint\": {\n        'line-color': \"#FFFFFF\",\n        'line-opacity': 1,\n        'line-width': 1\n      }\n    })\n\n    this.map.addLayer({\n      id: \"county-geo-cn1mtx__clicked\",\n      maxzoom: 6.2,\n      minzoom: 4.8,\n      source: \"composite\",\n      \"source-layer\": \"county_geo-cn1mtx\",\n      type: \"line\",\n      \"paint\": {\n        'line-opacity': 1,\n        'line-width': 2,\n        'line-color': \"rgba(0, 0, 0, 0)\"\n      }\n    })\n\n    this.map.addLayer({\n      id: \"cities-geo-final-3o28cl__hover\",\n      maxzoom: 15.5,\n      minzoom: 6.2,\n      source: \"composite\",\n      \"source-layer\": \"cities_geo_final-3o28cl\",\n      type: \"circle\",\n      \"filter\": [\"==\", \"RegionID\", \"\"],\n      \"paint\": {\n        'circle-color': \"#FFFFFF\",\n        'circle-radius': 5\n      }\n    });\n\n    this.map.addLayer({\n      id: \"cities-geo-final-3o28cl__clicked\",\n      maxzoom: 15.5,\n      minzoom: 6.2,\n      source: \"composite\",\n      \"source-layer\": \"cities_geo_final-3o28cl\",\n      type: \"circle\",\n      \"paint\": {\n        'circle-color': \"rgba(0, 0, 0, 0)\",\n        'circle-radius': 5\n      }\n    })\n\n    this.map.setLayoutProperty(\"nation-geo-9an1r8\", \"visibility\", \"visible\");\n    this.map.setLayoutProperty(\"division-geo-a4uhem\", \"visibility\", \"visible\");\n\n    let { currentTime } = this.props;\n\n    this.usMapSetting(currentTime);\n    this.divisionMapSetting(currentTime);\n    this.stateMapSetting(currentTime);\n    this.countyMapSetting(currentTime);\n    this.cityMapSetting(currentTime);\n\n    this.map.on('zoom', this.handleZoom.bind(this));\n    this.map.on('click', this.handleViewClick.bind(this));\n    this.map.on('mousemove', this.handleMouseMove);\n    this.map.on('moveend', this.handleMoveEnd.bind(this));\n  }\n\n  handleMoveEnd(e) {\n    console.log(e);\n    if (e.command === \"popupFromGraph\") {\n      this.hoverPopup.setHTML(e.popupName).setLngLat(e.center).addTo(this.map);\n      this.props.dispatch(updateCurrentFocusMap(null));//this.props.currentFocusMap)\n\n    }\n  }\n\n  getData(gInfo){\n    let info;\n    switch (gInfo.type) {\n      case \"nation_geo-9an1r8\":\n        info = rentUS;\n        break;\n      case \"division_geo-a4uhem\":\n        info = _.find(rentDivisions, r => { return r.DivisionName === gInfo.id });\n        break;\n      case \"state_geo-c0eo4i\":\n        info = _.find(rentStates, r => { return r.StateName === gInfo.id });\n        break;\n      case \"county_geo-cn1mtx\":\n        info = _.find(rentCounties, r => { return r.GEOID === gInfo.id });\n        break;\n      default:\n        break;\n    }\n    return info;\n  }\n\n\n\n  usMapSetting(currentTime) {\n    // let rentData = convDatesToList(rentUS);\n    // console.log(rentUS.houseValues);\n    this.map.setPaintProperty(\"nation-geo-9an1r8\", \"fill-color\", this.colorScale(rentUS.houseValues[currentTime][1]));\n    this.map.setPaintProperty(\"nation-geo-9an1r8\", \"fill-opacity\", [\"case\",\n      [\"boolean\", [\"feature-state\", \"hover\"], false],\n      1,\n      0.5\n    ]);  \n  }\n\n  divisionMapSetting(currentTime) {\n\n    // let rentDivisions = convRentData(rentDivision);\n    //   debugger;\n  \n    var expression = [\"match\", [\"get\", \"NAME\"]];\n\n    _.each(rentDivisions, division => {\n      expression.push(division.DivisionName, this.colorScale(division.houseValues[currentTime][1])); \n\n    });\n    expression.push(\"rgba(0, 0, 0, 0.5)\");\n\n    this.map.setPaintProperty(\"division-geo-a4uhem\", \"fill-color\", expression);\n    this.map.setPaintProperty(\"division-geo-a4uhem\", \"fill-opacity\", [\"case\",\n      [\"boolean\", [\"feature-state\", \"hover\"], false],\n      1,\n      0.5\n    ]);  \n    \n  }\n\n  stateMapSetting(currentTime){\n\n    // let rentStates = convRentData(rentStatesRaw);\n    // debugger;\n    var expression = [\"match\", [\"get\", \"NAME\"]];\n\n    _.each(rentStates, state => {\n      expression.push(state.StateName, this.colorScale(state.houseValues[currentTime][1]));\n    });\n\n    expression.push(\"rgba(0, 0, 0, 0.5)\");\n\n    this.map.setPaintProperty(\"state-geo-c0eo4i\", \"fill-color\", expression);\n    this.map.setPaintProperty(\"state-geo-c0eo4i\", \"fill-opacity\", [\"case\",\n      [\"boolean\", [\"feature-state\", \"hover\"], false],\n      1,\n      0.5\n    ]);  \n\n    // county-geo-cn1mtx\n  }\n\n  cityMapSetting(currentTime){\n    var expression = [\n      'interpolate',\n      ['linear'],\n      ['get', currentTimeToYearMonthTime(currentTime)]\n    ];\n\n    _.map(this.colorScale.domain(), (v, i) => {\n      expression.push(v, this.colorScale(v))\n    });\n\n    // console.log(expression);\n    this.map.setPaintProperty(\"cities-geo-final-3o28cl\", \"circle-color\", expression);\n    this.map.setPaintProperty(\"cities-geo-final-3o28cl\", \"circle-opacity\", 0.7);\n\n\n  }\n\n  countyMapSetting(currentTime) {\n\n    // let rentCounties = convRentData(rentCountiesRaw);\n    // debugger;\n    var expression = [\"match\", [\"get\", \"GEOID\"]];\n\n    _.each(rentCounties, county => {\n      expression.push(String(county.GEOID), this.colorScale(county.houseValues[currentTime][1]));\n    });\n    expression.push(\"rgba(0, 0, 0, 0.5)\");\n\n    // console.log(expression);\n    this.map.setPaintProperty(\"county-geo-cn1mtx\", \"fill-color\", expression);\n    this.map.setPaintProperty(\"county-geo-cn1mtx\", \"fill-opacity\", [\"case\",\n      [\"boolean\", [\"feature-state\", \"hover\"], false],\n      1,\n      0.5\n    ]);\n  }\n\n\n\n  componentDidUpdate(prevProps) {\n    this.map.resize();\n\n\n    if (prevProps.currentTime !== this.props.currentTime) {\n      // debugger;\n      let { currentTime, currentMode } = this.props;\n\n      if (currentMode === MODES[0].mode) {\n        this.usMapSetting(currentTime);\n      } else if (currentMode === MODES[1].mode) {\n        this.divisionMapSetting(currentTime);\n      } else if (currentMode === MODES[2].mode) {\n        this.stateMapSetting(currentTime);\n      } else if (currentMode === MODES[3].mode) {\n        this.countyMapSetting(currentTime); \n      } else {\n        this.cityMapSetting(currentTime);\n      }\n\n    } else if (_.values(this.props.graphSelected).length !== _.values(prevProps.graphSelected).length) {\n\n      this.map.setPaintProperty(\"nation-geo-9an1r8__clicked\", \"line-color\", null);\n      this.map.setPaintProperty(\"division-geo-a4uhem__clicked\", \"line-color\", null);\n      \n      var expressions = {};\n\n      _.each(_.values(this.props.graphSelected), g => {\n        let nameValue = \"\";\n        let matchValue = \"NAME\";\n\n        if (g.type === MODES[0].mode) {\n          nameValue = \"RegionName\";\n        } else if (g.type === MODES[1].mode) {\n          nameValue = \"DivisionName\";\n        } else if (g.type === MODES[2].mode) {\n          nameValue = \"StateName\";\n        } else if (g.type === MODES[3].mode) {\n          nameValue = \"GEOID\";\n          matchValue = \"GEOID\"\n        } else {\n          nameValue = \"RegionID\";\n          matchValue = \"RegionID\";\n        }\n\n        if (_.isUndefined(expressions[g.type])) {\n          expressions[g.type] = [\"match\", [\"get\", matchValue]];\n        }\n\n        \n        // debugger;\n        expressions[g.type].push(g.graph[nameValue], g.color);\n      });\n\n      _.each(expressions, (v, k) => {\n        expressions[k].push(\"rgba(0, 0, 0, 0.0)\");\n        if (k.indexOf('cities') > -1) {\n\n          this.map.setPaintProperty(`${k.replace(/_/g, \"-\")}__clicked`, \"circle-color\", v);\n          this.map.setPaintProperty(`${k.replace(/_/g, \"-\")}__clicked`, \"circle-opacity\", 1);\n          \n        } else {\n\n          this.map.setPaintProperty(`${k.replace(/_/g, \"-\")}__clicked`, \"line-color\", v);\n          this.map.setPaintProperty(`${k.replace(/_/g, \"-\")}__clicked`, \"line-opacity\", 1);\n        }\n      });\n\n\n    } else if (!_.isNull(this.props.currentFocusMap)) {\n      \n      var g = this.props.graphSelected[this.props.currentFocusMap];\n      // debugger;\n      let center = g.id === \"United States\" ? [-95.3091743624725, 40.89824648650918] : g.center.geometry.coordinates;\n    \n      var popupName;\n      if (g.type === MODES[3].mode) {\n        popupName = g.graph.RegionName + \" County\";\n      } else if (g.type === MODES[4].mode) {\n        popupName = g.graph.fullName;\n      } else {\n        popupName = g.id;\n      }\n      console.log(g.type);\n      \n      this.map.easeTo({\n        center: center,\n        zoom: _.find(MODES, m => { return m.mode === g.type }).zoom\n      }, { command: 'popupFromGraph', popupName: popupName, center: center });\n    }\n\n  }\n\n\n\n  render() {\n    let { windowWidth, windowHeight } = this.props;\n    return (\n      <MapContainerDiv>\n\n\n        <MapDiv ref={c => { this.refsMapContainer = c; }} className=\"map-container\" style={{ width: windowWidth * 0.6 - 40, height: windowHeight - HEADER_HEIGHT - 20 }}>\n        </MapDiv>\n\n        <Legend colorScale={this.colorScale}/>\n      </MapContainerDiv>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  // console.log(state.graphSelected);\n  return {\n    graphSelected: state.graphSelected,\n    windowWidth: state.windowWidth,\n    windowHeight: state.windowHeight,\n    data: state.data,\n    currentTime: state.currentTime,\n    zoom: state.zoom,\n    center: state.center,\n    currentMode: state.currentMode,\n    currentFocusMap: state.currentFocusMap\n  }\n}\n\nexport default connect(mapStateToProps)(MapContainer);","const BOLD_TYPE = `\n  font-family: 'Styrene A', sans-serif;\n  font-size: 1em;\n  line-height: 1.2em;\n  font-style: normal;\n  font-weight: 700;\n`;\n\nconst REGULAR_TYPE = `\n  font-family: 'Styrene A', sans-serif;\n  font-size: 1em;\n  line-height: 1.2em;\n  font-style: normal;\n  font-weight: 400;\n`;\n\n\nconst REGULAR_ITALIC_TYPE = `\n  font-family: 'Styrene A', sans-serif;\n  font-size: 1em;\n  line-height: 1.2em;\n  font-style: italic;\n  font-weight: 400;\n`;\n\nconst MEDIUM_TYPE = `\n  font-family: 'Styrene A', sans-serif;\n  font-size: 1em;\n  line-height: 1.2em;\n  font-style: normal;\n  font-weight: 500;\n`;\n\n\nconst ABSOLUTE_MIDDLE = `\n  transform: translate(0, -50%);\n`;\n\nconst ABSOLUTE_CENTER = `\n  transform: translate(-50%, 0);\n`;\n\nconst ABSOLUTE_CENTER_MIDDLE = `\n  transform: translate(-50%, -50%);\n`;\n\nexport default {\n  BOLD_TYPE,\n  REGULAR_TYPE,\n  REGULAR_ITALIC_TYPE,\n  MEDIUM_TYPE,\n  ABSOLUTE_CENTER,\n  ABSOLUTE_CENTER_MIDDLE,\n  ABSOLUTE_MIDDLE\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport styled from 'styled-components';\nimport { getLabel, numberWithDelimiter, wrap } from '../utils';\nimport mixins from '../stylesheets/mixins';\nimport { removeGraphSelected, updateCurrentFocusMap } from '../actions';\nconst GraphBox = styled.div`\n  position: relative;\n`;\n\nconst CenterAddText = styled.div`\n  position:absolute;\n  left: calc(50% - 35px);\n  top: 50%;\n  ${mixins.REGULAR_TYPE}\n  ${mixins.ABSOLUTE_CENTER_MIDDLE}\n  text-align:center;\n  font-size:0.9em;\n  color: #555;\n`;\n\nclass GraphContainer extends Component {\n  constructor(props){\n    super(props);\n\n    this.svgRef = React.createRef();\n    this.xScale = d3.scaleTime();\n    this.yScale = d3.scaleLinear().clamp(true);\n    this.margin = {top: 20, right: 125, bottom: 50, left: 50};\n    this.zoomed = this.zoomed.bind(this);\n    this.zoomTransform = d3.zoomIdentity;\n  }\n  componentDidMount() {\n    let { containerWidth, containerHeight } = this.props;\n\n    var width = containerWidth - this.margin.left - this.margin.right,\n      height = containerHeight - this.margin.top - this.margin.bottom;\n\n    var svg = d3.select(this.svgRef.current);\n\n\n    this.xScale.domain([new Date(2010, 10, 2), new Date(2019, 1, 2)]).range([0, width]);\n    this.yScale.domain([500, 1400]).range([height, 0]);\n    var clip = svg.append(\"defs\").append(\"svg:clipPath\")\n      .attr(\"id\", \"clip\")\n      .append(\"svg:rect\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0);\n\n    this.zoom = d3.zoom()\n      .scaleExtent([1, 6])\n      // .translateExtent([[0, 0], [width + 100, height + 100]])\n      .on(\"zoom\", this.zoomed);\n    svg.append(\"g\")\n      .attr(\"class\", \"grid xgrid\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(this.xScale)\n        .tickSize(-height)\n        .tickFormat(\"\")\n      )\n\n    svg.append(\"g\")\n      .attr(\"class\", \"grid ygrid\")\n      .call(d3.axisLeft(this.yScale)\n        .tickSize(-width)\n        .tickFormat(\"\")\n      )\n    svg.append(\"rect\")\n      .attr('class', \"event-area\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .style(\"fill\", \"none\")\n      .style(\"pointer-events\", \"all\")\n      .call(this.zoom);\n\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .transition()\n      .call(d3.axisBottom(this.xScale)); // Create an axis component with d3.axisBottom\n\n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .transition()\n      .call(d3.axisLeft(this.yScale)); // Create an axis component with d3.axisLeft\n    \n   \n\n    svg.append(\"g\").attr(\"class\", \"grapharea\")\n      .attr(\"clip-path\", \"url(#clip)\")\n\n    // this.d3Render();\n  }\n\n  zoomed(e){\n    if (d3.event.transform.k === 1) {\n      this.zoomTransform = d3.zoomIdentity;\n    } else {\n      this.zoomTransform = d3.event.transform;\n    }\n\n    let { containerWidth, containerHeight } = this.props;\n    var width = containerWidth - this.margin.left - this.margin.right,\n      height = containerHeight - this.margin.top - this.margin.bottom;\n    var svg = d3.select(this.svgRef.current);\n\n    // recover the new scale\n    var newX = this.zoomTransform.rescaleX(this.xScale);\n    var newY = this.zoomTransform.rescaleY(this.yScale);\n\n\n    // update axes with these new boundaries\n    svg.select(\".x.axis\")\n      .call(d3.axisBottom(newX)); // Create an axis component with d3.axisBottom\n\n    svg.select(\".y.axis\")\n      .call(d3.axisLeft(newY));\n\n    svg.select(\".grid.xgrid\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(newX)\n        .tickSize(-height)\n        .tickFormat(\"\")\n      )\n\n    svg.select(\".grid.ygrid\")\n      .call(d3.axisLeft(newY)\n        .tickSize(-width)\n        .tickFormat(\"\")\n      )\n    \n    var g = svg.select(\".grapharea\").selectAll(\"g\");\n      \n    g.selectAll(\"path\").attr(\"transform\", this.zoomTransform);\n    \n    g.selectAll(\"text.title\")\n      .attr(\"x\", d => {\n        return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 5;\n      })\n      .attr(\"y\", d => {\n        return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 5;\n      })\n      \n    \n    g.selectAll(\"text.price\")\n      .attr(\"x\", d => {\n        return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 5;\n      })\n      .attr(\"y\", d => {\n        return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 17;\n      })\n\n    g.selectAll(\"text.close-btn\")\n      .attr(\"x\", d => {\n        return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 45;\n      })\n      .attr(\"y\", d => {\n        return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 17;\n      })\n\n  }\n\n  componentDidUpdate(prevProps){\n    this.d3Render(prevProps);\n  }\n\n  getDomains(graphSelected){\n    var yDomainMax = -9999999999;\n    _.each(graphSelected, g => {\n      _.each(g.graph.houseValues, houseValue => {\n        // houseValue[0]\n        if (yDomainMax < houseValue[1]) {\n          yDomainMax = houseValue[1]\n        }\n      });\n\n    });\n\n    return {\n      x: [new Date(2010, 10, 2), new Date(2019, 1, 2)],\n      y: [500, yDomainMax]\n    };\n  }\n\n\n  d3Render(prevProps){\n    let { containerWidth, containerHeight, graphSelected, currentTime } = this.props;\n\n    if (containerWidth !== prevProps.containerWidth || containerHeight !== prevProps.containerHeight){\n\n      let width = containerWidth - this.margin.left - this.margin.right,\n        height = containerHeight - this.margin.top - this.margin.bottom;\n\n      this.xScale.range([0, width]);\n      this.yScale.range([height, 0]);\n\n      let newX = this.zoomTransform.rescaleX(this.xScale);\n      let newY = this.zoomTransform.rescaleY(this.yScale);\n\n      var svg = d3.select(this.svgRef.current);\n      svg.select(\"#clip rect\")\n        .attr(\"width\", width + this.margin.left + this.margin.right)\n        .attr(\"height\", height);\n\n      svg.select(\"rect.event-area\")\n        .attr(\"width\", width + this.margin.left + this.margin.right)\n        .attr(\"height\", height);\n\n      svg.select(\".x.axis\")\n        .transition()\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(newX)); // Create an axis component with d3.axisBottom\n\n      svg.select(\".y.axis\")\n        .transition()\n        .call(d3.axisLeft(newY)); // Create an axis component with d3.axisLeft\n        \n      svg.select(\".grid.xgrid\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(newX)\n          .tickSize(-height)\n          .tickFormat(\"\")\n        )\n\n      svg.select(\".grid.ygrid\")\n        .call(d3.axisLeft(newY)\n          .tickSize(-width)\n          .tickFormat(\"\")\n        )\n\n      var line = d3.line()\n        .x(d => {\n          return this.xScale(d[0]);\n        })\n        .y(d => { return this.yScale(d[1]); })\n      svg.select(\".grapharea\").selectAll(\"path\")\n        .data(graphSelected)\n        .enter().append(\"path\")\n        .attr('class', 'line')\n        .attr('stroke', d => d.color)\n        .attr(\"d\", d => {\n          return line(d.graph.houseValues)\n        })\n        .attr(\"transform\", this.zoomTransform);\n    }\n\n    var graphSelectedValues = _.values(graphSelected);\n\n    if (graphSelectedValues.length != _.values(prevProps.graphSelected).length || prevProps.currentTime !== this.props.currentTime) {\n\n      var svg = d3.select(this.svgRef.current);\n      let width = containerWidth - this.margin.left - this.margin.right,\n        height = containerHeight - this.margin.top - this.margin.bottom;\n\n      // let rentDatas = this.getData(graphSelected);\n      // console.log(rentDatas[0].houseValues.length)\n      \n        let domains = this.getDomains(graphSelectedValues);\n\n      if (graphSelectedValues.length > 0) {\n\n        this.xScale.domain(domains.x).range([0, width]);\n        this.yScale.domain(domains.y).range([height, 0]);\n\n      }\n        let newX = this.zoomTransform.rescaleX(this.xScale);\n        let newY = this.zoomTransform.rescaleY(this.yScale);\n\n        svg.select(\".x.axis\")\n          .transition()\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .call(d3.axisBottom(newX)); // Create an axis component with d3.axisBottom\n\n        svg.select(\".y.axis\")\n          .transition()\n          .call(d3.axisLeft(newY)); // Create an axis component with d3.axisLeft\n\n\n        \n        _.each(graphSelectedValues, (g, i) => { \n          graphSelectedValues[i].graph.p_houseValues = _.slice(g.graph.houseValues, 0, currentTime);\n        });\n        var line = d3.line()\n          .x(d => {\n            return this.xScale(new Date(d[0]));\n          })\n          .y(d => { return this.yScale(d[1]); })\n\n\n        svg.select(\".grapharea\").selectAll(\"g\").remove();\n\n        let g = svg.select(\".grapharea\").selectAll(\"g\")\n          .data(graphSelectedValues)\n        .enter().append(\"g\")\n          \n\n        g.append(\"path\")\n          .attr('class', 'line')\n          .style('stroke', (d, i) => { \n            return d.color;\n\n          })\n          .attr(\"d\", d => {\n            return line(d.graph.p_houseValues)\n          })\n          .attr(\"transform\", this.zoomTransform)\n          .on('click', e => {\n            this.props.dispatch(updateCurrentFocusMap(e.id));\n          });\n        \n        g.append(\"text\")\n          .attr(\"class\", \"graph-text title\")\n          .style('fill', (d, i) => d.color)\n          .attr(\"x\", d => {\n            return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 5;\n          })\n          .attr(\"y\", d => {\n            return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 5;\n          })\n          .text(d => { return getLabel(d); })\n          .on('click', e => {\n            this.props.dispatch(updateCurrentFocusMap(e.id));\n          });\n\n        g.append(\"text\")\n          .attr(\"class\", \"graph-text price\")\n          .style('fill', (d, i) => d.color)\n          .attr(\"x\", d => {\n            return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 5;\n          })\n          .attr(\"y\", d => {\n            return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 17;\n          })\n          .text(d => { return `$${numberWithDelimiter(_.last(d.graph.p_houseValues)[1])}`; })\n          .on('click', e => {\n            this.props.dispatch(updateCurrentFocusMap(e.id));\n          });\n      \n        g.append(\"text\")\n          .attr(\"class\", \"graph-text close-btn\")\n          .style('fill', \"white\")\n          .attr(\"x\", d => {\n            return this.xScale(new Date(_.last(d.graph.p_houseValues)[0])) * this.zoomTransform.k + this.zoomTransform.x + 45;\n          })\n          .attr(\"y\", d => {\n            return this.yScale(_.last(d.graph.p_houseValues)[1]) * this.zoomTransform.k + this.zoomTransform.y + 17;\n          })\n          .text(\"x\")\n          .on('click', e => {\n            this.props.dispatch(removeGraphSelected(e.id))\n          });\n      \n      \n      svg.select(\".x.axis\")\n        .transition()\n        .call(d3.axisBottom(newX)); // Create an axis component with d3.axisBottom\n\n      svg.select(\".y.axis\")\n        .call(d3.axisLeft(newY)); // Create an axis component with d3.axisLeft\n\n     \n\n    }\n\n\n\n  }\n\n\n  render() {\n    let { containerWidth, containerHeight, graphSelected} = this.props;\n\n\n\n    return (\n      <GraphBox>\n        {\n          _.values(graphSelected).length > 0 ?\n          null : \n          <CenterAddText>\n            Please click any region on the map to add the area to the graph.\n          </CenterAddText> \n        }\n        <svg\n          width={containerWidth}\n          height={containerHeight}>\n          <g ref={this.svgRef} transform={`translate(${this.margin.left}, ${this.margin.top})`}>\n          </g>\n        </svg>\n      </GraphBox>\n     \n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    graphSelected: state.graphSelected,\n    currentTime: state.currentTime\n  }\n};\n\nexport default connect(mapStateToProps)(GraphContainer);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport styled from 'styled-components';\nimport moment from 'moment';\n\nconst Box = styled.div`\n  padding: 20px;\n`;\n\nclass GraphToolTip extends Component {\n  constructor(props) {\n    super(props);\n\n    this.svgRef = React.createRef();\n    this.xScale = d3.scaleTime();\n    this.yScale = d3.scaleLinear();\n    this.margin = { top: 5, right: 5, bottom: 5, left: 5 };\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n  }\n\n  handleMouseEnter(e){\n\n    var svg = d3.select(this.svgRef.current);\n    svg.select('.axis.y')\n      .style('opacity', 1);\n    svg.select('.axis.x')\n      .style('opacity', 1);\n  }\n\n  handleMouseLeave(e){\n\n    var svg = d3.select(this.svgRef.current);\n    svg.select('.axis.y')\n      .style('opacity', 0);\n    svg.select('.axis.x')\n      .style('opacity', 0);\n  }\n\n  componentDidMount() {\n    this.d3Render();\n  }\n\n  componentDidUpdate() {\n    this.d3Render();\n  }\n\n  getDomains(rentData) {\n    let xExtent = d3.extent(rentData.houseValues, hv => hv[0]);\n    let yExtent = d3.extent(rentData.houseValues, hv => hv[1]);\n\n    return {\n      x: xExtent,\n      y: [500, yExtent[1]]\n    };\n  }\n\n  d3Render() {\n    let { containerWidth, containerHeight, rentData } = this.props;\n\n    var width = containerWidth - this.margin.left - this.margin.right,\n      height = containerHeight - this.margin.top - this.margin.bottom;\n\n  \n    let domains = this.getDomains(rentData);\n    \n    this.xScale.domain(domains.x).range([0, width]);\n    this.yScale.domain(domains.y).clamp(true).range([height, 0]);\n    var format = d3.timeFormat(\"%Y\");\n\n    var line = d3.line()\n      .x(d => {\n        return this.xScale(d[0]);\n      })\n      .y(d => { return this.yScale(d[1]); })\n      .curve(d3.curveMonotoneX)\n\n    var svg = d3.select(this.svgRef.current);\n\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(20,\" + height + \")\")\n      .call(d3.axisBottom(this.xScale).tickFormat(format))\n      .style('opacity', 0)\n\n    \n    \n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(30, 0)\")\n      .call(d3.axisLeft(this.yScale))\n      .style('opacity', 0)\n      \n\n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(30, 0)\").selectAll(\"path\")\n      .data([rentData])\n      .enter().append(\"path\")\n      .attr('class', 'line')\n      .attr(\"d\", d => {\n        return line(d.houseValues)\n      });\n\n\n  }\n\n\n  render() {\n    let { containerWidth, containerHeight } = this.props;\n    return (\n      <Box onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n\n        <svg\n          width={containerWidth + this.margin.left + this.margin.right}\n          height={containerHeight + this.margin.top + this.margin.bottom}>\n          <g ref={this.svgRef} transform={`translate(${this.margin.left}, ${this.margin.top})`}>\n          </g>\n        </svg>\n      </Box>\n    );\n  }\n}\n\nexport default GraphToolTip;","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { DivisionText } from './';\nimport mixins from '../stylesheets/mixins';\nimport { MODES, HEADER_HEIGHT } from '../constants/defaults';\nimport _ from 'lodash';\n\nconst HeaderContainer = styled.header`\n  position: relative;\n  height: ${HEADER_HEIGHT}px;\n`;\n\nconst DivisionArea = styled.div`\n  position:absolute;\n  left: 236px;\n  top: 30px;\n  z-index: 1;\n  background-color:black;\n  padding-right: 15px;\n`;\n\nconst Mover = styled.div`\n  position: absolute;\n  left: 20px;\n  top: 15px;\n  width: calc(100% - 40px);\n  display:flex;\n  justify-content:space-between;\n  transition: top 0.4s;\n`;\nconst Line = styled.hr`\n  border: none;\n  border-bottom: 1px solid #333;\n  min-width: calc(100% - 450px);\n  height: 20px;\n\n`;\n\nconst CreditArea = styled.div`\n  ${mixins.REGULAR_TYPE}\n  font-size:0.8em;\n  width: 180px;\n  margin-top:12px;\n  h4 {\n    color:white;\n  }\n`;\n\nconst TitleArea = styled.div`\n  width: auto;\n  p {\n    ${mixins.REGULAR_TYPE}\n    color: #555;\n    font-size:0.8em;\n  }\n  h1 {\n\n    ${mixins.BOLD_TYPE}\n    color:white;\n    font-size: 1.2em;\n  }\n`;\n\nclass Header extends Component {\n  render() {\n    let { currentMode } = this.props;\n    let currentIdx = _.findIndex(_.values(MODES), m => m.mode === currentMode);\n\n    return (\n      <HeaderContainer>\n        <DivisionArea>\n          { \n            _.map(MODES, m => {\n              return (\n                <DivisionText key={m.id} {...m}>{m.label}</DivisionText>\n              )\n            })\n          }\n        </DivisionArea>\n        <Mover style={{ top: 15 + currentIdx * 23 }}>\n          <TitleArea>\n            <p>\n              What has been happening in\n            </p>\n            <h1>\n               The rent of the U.S.\n            </h1>\n          </TitleArea>\n          <Line />\n          <CreditArea>\n            <h4>Wonyoung So</h4>\n            wso@mit.edu6.894  A3\n          </CreditArea>\n        </Mover>\n      </HeaderContainer>\n    )\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    currentMode: state.currentMode\n  }\n}\nexport default connect(mapStateToProps)(Header);\n","import React, { Component } from 'react'\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport mixins from '../stylesheets/mixins';\n\nconst TextArea = styled.div`\n  ${mixins.BOLD_TYPE}\n  color:#555;\n  font-size:1.2em;\n  transition: all 0.4s;\n`;\n\nclass DivisionText extends Component {\n  render() {\n    let { mode, currentMode } = this.props;\n\n    let selected = mode === currentMode;\n    return (\n      <TextArea style={{ color: `${selected ? \"white\" : \"#555\"}`}}>\n        {this.props.children}{selected ? \"?\" : \"\"}\n      </TextArea>\n    )\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    currentMode: state.currentMode\n  }\n}\n\nexport default connect(mapStateToProps)(DivisionText);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport styled from 'styled-components';\nimport { SLIDER_HEIGHT, CURRENT_TIMES } from '../constants/defaults';\nimport { changeCurrentTime } from '../actions';\nimport moment from 'moment';\n\nlet Container = styled.div`\n  width: calc(100% - 50px);\n  height: ${SLIDER_HEIGHT - 40}px;\n  padding: 20px;\n  padding-left:10px;\n  display:flex;\n  align-items: center;\n\n  h3 {\n    font-size:0.8em;\n    margin-right: 10px;\n  }\n\n  h3.date {\n    font-size:0.8em;\n    width: 100px;\n    margin-right: 0;\n    padding-left: 20px;\n  }\n`;\n\nclass SliderContainer extends Component {\n  handleChange(e){\n    this.props.dispatch(changeCurrentTime(e));\n  }\n  render() {\n    let { currentTime } = this.props;\n    return (\n      <Container>\n        <h3>\n          Date\n        </h3>\n        <Slider \n          className=\"slider-current-time\"\n          min={1}\n          defaultValue={currentTime}\n          max={98}\n          onChange={this.handleChange.bind(this)}\n        />\n        <h3 className=\"date\">\n          { moment(CURRENT_TIMES[currentTime]).format(\"MMM\") }<br />\n          {moment(CURRENT_TIMES[currentTime]).format(\"YYYY\")}\n        </h3>\n      </Container>\n    )\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    currentTime: state.currentTime\n  }\n}\n\nexport default connect(mapStateToProps)(SliderContainer);","import React, { Component } from 'react'\nimport styled from 'styled-components';\nimport mixins from '../stylesheets/mixins';\nimport { numberWithDelimiter } from '../utils';\nimport _ from 'lodash';\nconst LegendContainer = styled.div`\n  position: absolute;\n  left: 20px;\n  bottom: 0;\n  padding: 10px;\n  background-color: black;\n  border: 1px solid #555;\n  z-index: 20;\n  h3 {\n    ${mixins.MEDIUM_TYPE}\n    font-size:0.7em;\n    color:white;\n    margin-bottom: 5px;\n  }\n`;\n\nconst LegendArea = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 3px;\n  div.color-box {\n    width: 10px;\n    height: 10px;\n    margin-right: 10px;\n  }\n\n  div.label {\n    ${mixins.REGULAR_TYPE}\n    color: #555;\n    font-size:0.7em;\n  }\n`;\nclass Legend extends Component {\n  render() {\n    let { colorScale } = this.props;\n    return (\n      <LegendContainer>\n        <h3>\n          Legend\n        </h3>\n        {\n          _.map(colorScale.domain(), (v, i) => {\n            return (\n              <LegendArea key={i}>\n                <div className=\"color-box\" style={{ backgroundColor: colorScale(v)}}>\n                </div>\n                {\n                  i === colorScale.domain().length - 1 ? \n                  <div className=\"label\">\n                    ${numberWithDelimiter(v)}-\n                  </div> :\n                  <div className=\"label\">\n                    ${numberWithDelimiter(v)}-{numberWithDelimiter(colorScale.domain()[i + 1] - 1)}\n                  </div> \n                }\n                \n              </LegendArea>\n            )\n          })\n        } \n      </LegendContainer>\n    )\n  }\n}\n\nexport default Legend;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { MapContainer, GraphContainer, Header, SliderContainer } from '../components';\nimport { windowResize, updateData } from '../actions';\nimport styled from 'styled-components';\nimport * as d3 from 'd3';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { GRAPH_HEIGHT, HEADER_HEIGHT } from '../constants/defaults';\n\nconst Divider = styled.div`\n  display:flex;\n  justify-content: space-between;\n`;\n\nconst DataArea = styled.div`\n  position: fixed;\n  left: calc(60% + 20px);\n  font-size:0.8em;\n  bottom: 20px;\n  width: 30%;\n  font-size:0.7em;\n`;\n\nconst Fragment = React.Fragment;\nclass Home extends Component {\n  componentDidMount(){\n\n    window.addEventListener('resize', this.resizeHandler.bind(this));\n\n    this.resizeHandler();\n  }\n\n  resizeHandler(e){\n    this.props.dispatch(windowResize({\n      width: window.innerWidth,\n      height: window.innerHeight\n    }));\n    \n  }\n\n\n  render() {\n    let { windowWidth, windowHeight } = this.props;\n    \n    return (\n      <Fragment>\n        <Header />\n        <Divider>\n\n          <MapContainer />\n          <div>\n            <SliderContainer />\n            <GraphContainer containerWidth={windowWidth * 0.4} containerHeight={windowHeight - HEADER_HEIGHT - 100 } />\n          </div>\n        </Divider>\n\n        <DataArea>\n          * Data: Zillow Rent Index (ZRI): A smoothed measure of the median estimated market rate rent across a given region and housing type. Zillow Research (2019).\n        </DataArea>\n      </Fragment>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    windowWidth: state.windowWidth,\n    windowHeight: state.windowHeight\n  }\n}\n\nexport default connect(mapStateToProps)(Home);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from './pages/Home';\n\nconst Fragment = React.Fragment;\n\nclass App extends Component {\n\n  render() {\n\n    return (\n      <HashRouter>\n        <Fragment>\n          <Route exact path=\"/\" component={Home} />\n        </Fragment>\n      </HashRouter>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    width: state.windowWidth,\n    height: state.windowHeight\n  }\n};\n\nexport default connect(mapStateToProps)(App);","import { createStore } from 'redux';\nimport mainReducer from './main';\n\nexport default createStore(mainReducer);\n","import { DEFAULT_STATE } from '../constants/defaults';\nimport _ from 'lodash';\n\nexport default function screenReducer(state = DEFAULT_STATE, action){\n  switch(action.type) {\n    case \"WINDOW_RESIZE\":\n      return {\n        ...state,\n        windowWidth: action.payload.windowWidth,\n        windowHeight: action.payload.windowHeight\n      }\n    case 'CHANGE_CURRENT_TIME':\n      return {\n        ...state,\n        currentTime: action.payload.currentTime\n      }\n    case 'UPDATE_DATA': \n      return {\n        ...state,\n        rentData: action.payload.rentData,\n        buyData: action.payload.buyData,\n        dataLoaded: true\n      }\n    case 'CHANGE_MAP_LOADED':\n      return {\n        ...state,\n        mapLoaded: action.payload.mapLoaded\n      }\n    case 'CHANGE_MAP_SETTING':\n      return {\n        ...state,\n        zoom: action.payload.zoom,\n        center: action.payload.center,\n        currentMode: action.payload.currentMode\n      }\n    case 'UPDATE_CURRENT_FOCUS_MAP':\n      return {\n        ...state,\n        currentFocusMap: action.payload.currentFocusMap\n      }\n    case 'ADD_GRAPH':\n      return {\n        ...state,\n        graphSelected: {\n          ...state.graphSelected,\n          [action.payload.id]: action.payload.graphInfo\n        }\n      }\n    case 'REMOVE_GRAPH':\n      let removeGraphSelected = {...state.graphSelected};\n\n      delete removeGraphSelected[action.payload.id]\n      return {\n        ...state,\n        graphSelected: removeGraphSelected\n      }\n    default:\n      return state;\n  }\n};\n\n\n","/* eslint no-console:0 */\n// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n//\n// To reference this file, add <%= javascript_pack_tag 'application' %> to the appropriate\n// layout file, like app/views/layouts/application.html.erb\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport AppState from './reducers';\nimport './stylesheets/style.scss';\n\nrender(\n  <Provider store={AppState}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}